@model IEnumerable<ProjectDemoWeb.Data.EmployeeMain>
@{
    ViewData["Title"] = "EmployeeMainAllDisplay";
}

<table class="table">
  <thead>
    <tr>
      <th>Action</th>
      <th scope="col">Serial No</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Contect No</th>
      <th scope="col">Company Location</th>
      <th scope="col">Address</th>
    </tr>
  </thead>
  <tbody>
    @foreach (var item in Model)
    {
    <tr>
      <th><a asp-action="delete" onClick='Delete(" + @item.EmpId + ")' class="btn btn-danger" asp-controller="EmployeeMain" asp-route-id="@item.EmpId">Delete</a></th>
      <th scope="row">@item.EmpId</th>
      @* <td>@item.EmployeeFullNames.FirstName</td>
      <td>@item.EmployeeFullNames.LastName</td> *@
      <td></td>
      <td></td>
      <td>@item.ContectNo</td>
      <td>@item.CompanyLocation</td>
      <td>@item.Address</td>

      
    </tr>
    }
  </tbody>
</table>

<script>

    function Delete(id) {
        //alert("manish");
        debugger
        $.ajax({

            url: 'http://localhost:5034/EmployeeMain/delete/'+id,
            type: "DELETE",
            data: JSON.stringify({ empId: id }),
            contentType: "application/json; charset=utf-8",
            success: function (data, status, xhr) {
                // alert("manish1");
                //debugger
                alert("Your Data is Successfuly Deleted ");
                window.location.replace("http://localhost:5034/EmployeeMain/EmployeeMainAllDisplay");

            },
            error: function () {
                //debugger
                alert("Error while deleting data");
            }
        })
    }


</script>
